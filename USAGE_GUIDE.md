# 坐标系大小控制功能使用指南

## 功能概述

新的"坐标系大小"滑动条替代了原来的"显示坐标轴"开关，提供了更精确的坐标轴大小控制。

## 核心原理

**比例系数 × 轨道半径 = 坐标轴显示大小**

- **比例系数**：由滑动条控制，范围 0-1.05
- **轨道半径**：由采样过程中的最远距离决定
- **显示大小**：最终的坐标轴长度

## 滑动条说明

### 范围设置
- **最小值**：0（关闭坐标轴）
- **最大值**：105（对应比例系数1.05）
- **步长**：1
- **默认值**：0（关闭状态）

### 比例系数计算
```
比例系数 = 滑动条值 ÷ 100
```

**示例**：
- 滑动条值 = 0  → 比例系数 = 0.00 → 坐标轴隐藏
- 滑动条值 = 50 → 比例系数 = 0.50 → 坐标轴为轨道半径的一半
- 滑动条值 = 100 → 比例系数 = 1.00 → 坐标轴等于轨道半径
- 滑动条值 = 105 → 比例系数 = 1.05 → 坐标轴为轨道半径的1.05倍

## 状态控制

### 可修改状态
- ✅ **渲染开始前**：可以调整滑动条
- ✅ **渲染结束后**：可以调整滑动条
- ✅ **暂停时**：可以调整滑动条

### 不可修改状态
- 🚫 **渲染进行中**：滑动条置灰，不可调整

### 视觉提示
- **正常状态**：滑动条正常显示，标签透明度100%
- **禁用状态**：滑动条置灰，标签透明度50%，鼠标悬停显示"渲染中不可修改"

## 使用场景

### 1. 观察微小轨道
对于内层轨道（如1s），可以设置较大的比例系数（0.8-1.05）来放大坐标轴，便于观察。

### 2. 观察大型轨道  
对于外层轨道（如4f），可以设置较小的比例系数（0.2-0.5）来缩小坐标轴，避免遮挡电子云。

### 3. 关闭坐标轴
将滑动条拖到最左边（值=0）完全关闭坐标轴显示，获得更清晰的电子云视图。

### 4. 动态调整
在采样完成后，可以动态调整坐标轴大小来找到最适合当前轨道的显示比例。

## 操作步骤

### 基本操作
1. 选择要观察的轨道
2. 调整坐标系大小滑动条到合适位置
3. 点击"启动"开始采样
4. 采样过程中滑动条会自动置灰
5. 采样完成后可重新调整大小

### 重置操作
点击"重置"按钮会：
- 清除所有采样点
- 将坐标系大小滑动条重置为0
- 隐藏坐标轴
- 重置所有相关状态

## 技术细节

### 轨道半径计算
程序使用采样过程中的最远距离作为轨道半径的近似值：
```javascript
轨道半径 = Math.max(基础大小, 最远采样距离)
```

### 坐标轴缩放
```javascript
目标大小 = 轨道半径 × 比例系数
缩放比例 = 目标大小 ÷ 基础大小
```

### 实时更新
在采样过程中，随着最远距离的增加，坐标轴会根据当前的比例系数自动重新计算大小。

## 常见问题

### Q: 为什么渲染中不能调整滑动条？
A: 为了保持渲染过程的稳定性和性能，避免频繁的坐标轴变化影响用户观察。

### Q: 比例系数1.05是如何确定的？
A: 1.05倍轨道半径通常能提供良好的视觉效果，既不会太小看不清，也不会太大遮挡电子云。

### Q: 重置后滑动条为什么回到0？
A: 这是设计行为，确保每次新的观察都从干净的状态开始，用户可以根据需要重新调整。

### Q: 不同轨道需要不同的比例系数吗？
A: 是的，内层轨道（1s, 2s）通常需要较大比例系数，外层轨道（4f）通常需要较小比例系数。
