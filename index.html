<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>氢原子电子云可视化</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button id="app-fullscreen-btn" title="全屏模式">⛶</button>
    <div id="container"></div>
    <div id="control-panel" class="panel">
        <div class="panel-tab" id="control-panel-tab" title="点击展开控制面板">◂ 控制</div>
        <div class="panel-content">
            <div class="panel-header">
                <h3>控制</h3>
                <div>
                    <button id="control-collapse-btn" class="collapse-btn" title="收起">▸</button>
                </div>
            </div>
            <div class="panel-body">
            <div class="control-group">
                <label for="multiselect-toggle">多选模式</label>
                <input type="checkbox" id="multiselect-toggle" />
            </div>
            <div class="control-group">
                <label for="compare-toggle">比照模式</label>
                <input type="checkbox" id="compare-toggle" />
            </div>
            <div class="control-group multiselect-controls" style="display: none;">
                <button id="clear-all-selections" class="clear-selections-btn">清除所有选择</button>
            </div>
        <div class="control-group">
            <label for="orbital-select">选择轨道</label>
            <select id="orbital-select" size="6">
                <!-- n=1 -->
                <option value="1s" selected>1s</option>
                <!-- n=2 -->
                <option value="2s">2s</option>
                <option value="2px">2px</option>
                <option value="2py">2py</option>
                <option value="2pz">2pz</option>
                <!-- n=3 -->
                <option value="3s">3s</option>
                <option value="3px">3px</option>
                <option value="3py">3py</option>
                <option value="3pz">3pz</option>
                <option value="3d_xy">3d(xy)</option>
                <option value="3d_xz">3d(xz)</option>
                <option value="3d_yz">3d(yz)</option>
                <option value="3d_x2-y2">3d(x^2-y^2)</option>
                <option value="3d_z2">3d(z^2)</option>
                <!-- n=4 -->
                <option value="4s">4s</option>
                <option value="4px">4px</option>
                <option value="4py">4py</option>
                <option value="4pz">4pz</option>
                <option value="4d_xy">4d(xy)</option>
                <option value="4d_xz">4d(xz)</option>
                <option value="4d_yz">4d(yz)</option>
                <option value="4d_x2-y2">4d(x^2-y^2)</option>
                <option value="4d_z2">4d(z^2)</option>
                <option value="4f_xyz">4f(xyz)</option>
                <option value="4f_xz2">4f(xz^2)</option>
                <option value="4f_yz2">4f(yz^2)</option>
                <option value="4f_z3">4f(z^3)</option>
                <option value="4f_z(x2-y2)">4f(z(x^2-y^2))</option>
                <option value="4f_x(x2-3y2)">4f(x(x^2-3y^2))</option>
                <option value="4f_y(3x2-y2)">4f(y(3x^2-y^2))</option>
            </select>
        </div>
        <div class="control-group">
            <label for="phase-toggle">渲染相位</label>
            <input type="checkbox" id="phase-toggle" />
        </div>
        <div class="control-group">
            <label for="max-points-select">最大点数</label>
            <select id="max-points-select">
                <option value="6000">6,000</option>
                <option value="12000">12,000</option>
                <option value="24000" selected>24,000</option>
                <option value="48000">48,000</option>
                <option value="100000">100,000</option>
                <option value="400000">400,000</option>
            </select>
        </div>
        <div class="control-group">
            <label for="axes-size-range">坐标系大小</label>
            <input id="axes-size-range" type="range" min="0" max="105" step="1" value="0" title="比例系数 0-1.05，0为关闭">
        </div>
        <div class="control-group">
            <label for="speed-range">生成速度</label>
            <input id="speed-range" type="range" min="20000" max="800000" step="1000" value="500000">
        </div>
        <div class="control-group">
            <label for="center-lock">固定至中心</label>
            <input type="checkbox" id="center-lock">
        </div>
        <div class="control-group">
            <label for="size-select">点的大小</label>
            <select id="size-select">
                <option value="small">小</option>
                <option value="medium" selected>中</option>
                <option value="large">大</option>
            </select>
        </div>
        <div class="control-group">
            <label for="opacity-range">不透明度</label>
            <input id="opacity-range" type="range" min="0.05" max="1" step="0.01" value="1">
        </div>
        <div class="control-group">
            <p>最远距离 / <span id="farthest-dist">0</span></p>
        </div>
        <div class="control-group action-buttons">
            <button id="start-button">启动</button>
            <button id="pause-button">暂停</button>
            <button id="clear-button">重置</button>
        </div>
        <div class="control-group">
            <p>当前点数 / <span id="point-count">0</span></p>
        </div>
            </div> <!-- 结束 panel-body -->
        </div> <!-- 结束 panel-content -->
    </div>

    <div id="data-panel" class="panel">
        <div id="data-panel-resize-handle" title="拖动改变大小"></div>
        <div class="panel-tab" id="data-panel-tab" title="点击展开数据面板">数据 ▸</div>
        <div class="panel-content">
            <div class="panel-header">
                <h3>数据</h3>
                <div>
                    <button id="chart-enlarge-btn" title="放大/还原图表">⤢</button>
                    <button id="data-collapse-btn" class="collapse-btn" title="收起">◂</button>
                </div>
            </div>
            <div class="panel-body">
                <div class="control-group">
                    <label for="plot-type-select">概率密度图</label>
                    <select id="plot-type-select">
                        <option value="radial">径向分布</option>
                        <option value="angular">角向分布 (θ)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="angular-3d-toggle">3D角向形状</label>
                    <input type="checkbox" id="angular-3d-toggle">
                </div>
                <div class="chart-container">
                    <canvas id="probability-chart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="physics.js"></script>
    <script src="data_panel.js"></script>
    <!-- 模块化脚本文件 -->
    <script src="core.js"></script>
    <script src="scene.js"></script>
    <script src="orbital.js"></script>
    <script src="sampling.js"></script>
    <script src="visualization.js"></script>
    <script src="ui.js"></script>
    <script src="main.js"></script>
</body>
</html>
